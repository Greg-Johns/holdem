(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(4186)}])},4186:function(e,n,t){"use strict";t.r(n);var r=t(4051),s=t.n(r),i=t(5893),o=t(7294),a=t(9008),c=t.n(a),d=t(6691),u=t(4832),l=t(7160),h=t.n(l);function p(e,n,t,r,s,i,o){try{var a=e[i](o),c=a.value}catch(d){return void t(d)}a.done?n(c):Promise.resolve(c).then(r,s)}function v(e){return function(){var n=this,t=arguments;return new Promise((function(r,s){var i=e.apply(n,t);function o(e){p(i,r,s,o,a,"next",e)}function a(e){p(i,r,s,o,a,"throw",e)}o(void 0)}))}}n.default=function(){var e,n,t=(0,o.useState)(!0),r=t[0],a=t[1],l=(0,o.useState)({isConnected:!1,address:"",provider:{}}),p=l[0],f=l[1],m=function(){var e=v(s().mark((function e(){var n,t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=window.ethereum)){e.next=9;break}return a(!0),e.next=5,n.request({method:"eth_accounts"});case 5:(null===(t=e.sent)||void 0===t?void 0:t.length)>0?f({isConnected:!0,address:t[0],provider:u.re(new d.Q(n))}):f({isConnected:!1,address:"",provider:{}}),e.next=10;break;case 9:a(!1);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=v(s().mark((function e(){var n,t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=window.ethereum,e.prev=1,!n){e.next=23;break}return e.next=5,n.request({method:"eth_requestAccounts"});case 5:return t=e.sent,e.prev=6,e.next=9,n.request({method:"wallet_switchEthereumChain",params:[{chainId:"0x5aff"}]});case 9:e.next=22;break;case 11:if(e.prev=11,e.t0=e.catch(6),4902!==e.t0.code){e.next=22;break}return e.prev=14,e.next=17,n.request({method:"wallet_addEthereumChain",params:[{chainId:"0x5aff",chainName:"Oasis Sapphire Testnet logoOasis",blockExplorerUrls:["https://testnet.explorer.sapphire.oasis.dev/"],nativeCurrency:{symbol:"TEST",decimals:18},rpcUrls:["https://testnet.sapphire.oasis.dev"]}]});case 17:e.next=22;break;case 19:e.prev=19,e.t1=e.catch(14),console.log("switching error",e.t1);case 22:f({isConnected:!0,address:null===t||void 0===t?void 0:t[0],provider:u.re(new d.Q(n,"23295"))});case 23:e.next=28;break;case 25:e.prev=25,e.t2=e.catch(1),console.log("Error connecting to metamask",e.t2);case 28:case"end":return e.stop()}}),e,null,[[1,25],[6,11],[14,19]])})));return function(){return e.apply(this,arguments)}}();return(0,o.useEffect)((function(){m()}),[]),(0,i.jsxs)("div",{className:h().container,children:[(0,i.jsxs)(c(),{children:[(0,i.jsx)("title",{children:"Texas Holdem"}),(0,i.jsx)("meta",{name:"description",content:"A privacy preserving poker app"}),(0,i.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,i.jsxs)("main",{className:h().main,children:[(0,i.jsx)("h1",{children:"Texas Holdem"}),(0,i.jsx)("button",{className:"btn connect-btn",onClick:x,children:p.isConnected?(0,i.jsxs)(i.Fragment,{children:[null===p||void 0===p||null===(e=p.address)||void 0===e?void 0:e.slice(0,4),"...",null===p||void 0===p||null===(n=p.address)||void 0===n?void 0:n.slice(38,42)]}):(0,i.jsx)(i.Fragment,{children:"Connect Wallet"})}),(0,i.jsx)("p",{children:r?p.isConnected?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h2",{children:"Connected \u2705"}),(0,i.jsx)("button",{type:"button",children:"Sign Message"})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("br",{}),(0,i.jsx)("button",{onClick:x,children:"Connect Wallet"})]}):(0,i.jsx)("p",{children:"no metamask"})})]})]})}},7160:function(e){e.exports={container:"Home_container__bCOhY",main:"Home_main__nLjiQ",grid:"Home_grid__GxQ85",form:"Home_form__k2xMg",footer:"Home_footer____T7K"}},5024:function(){}},function(e){e.O(0,[563,774,888,179],(function(){return n=8312,e(e.s=n);var n}));var n=e.O();_N_E=n}]);